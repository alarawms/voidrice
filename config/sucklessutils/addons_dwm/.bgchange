#!/bin/bash

# Taking in an argument
SlpTimer=$1

# Specify Background Directory
BgDir="$HOME/files/pictures/backgrounds/"
cd $BgDir

# Count number of backgrounds, -1 because of ls -l output
bgNo=$(( $(ls -l $BgDir | wc -l) - 1))

# Repeat forever
while [ 1 ]
do
	# Random number
	RandNo=$(( $RANDOM % $bgNo + 1 ))

	while [[ $RandNo -eq $Chck4No ]]
	do
		RandNo=$(( $RANDOM % $bgNo + 1 ))
	done

	# After number 10, I named my background "background_*.jpg" because of how dmenu sorts them
	if [ $RandNo -ge 10 ]
	then
		feh --bg-center --no-fehbg ./background_$RandNo.jpg
	else
	feh --bg-center --no-fehbg ./background$RandNo.jpg
	fi

	# Tmp Number so that wallpapers aren't repeated
	Chck4No=$RandNo

	sleep $SlpTimer
done
